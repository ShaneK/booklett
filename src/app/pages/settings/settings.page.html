<ion-header [translucent]="true">
  <ion-toolbar class="bg-surface/80 backdrop-blur">
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-bg">
  <ion-list inset="true" class="mt-4">
    <ion-item button detail (click)="openServerSettings()">
      <ion-label>Server Settings</ion-label>
    </ion-item>
  </ion-list>

  <ion-list inset="true" class="mt-4">
    <ion-item>
      <ion-label>Theme</ion-label>
      <ion-segment [value]="themeMode$ | async" (ionChange)="setTheme($any($event).detail.value)">
        <ion-segment-button value="light">Light</ion-segment-button>
        <ion-segment-button value="dark">Dark</ion-segment-button>
        <ion-segment-button value="system">System</ion-segment-button>
      </ion-segment>
    </ion-item>
  </ion-list>

  <ion-list inset="true" class="mt-4">
    <ion-item>
      <ion-label>Default Library</ion-label>
      <ion-segment [value]="getCurrentLibraryType()" (ionChange)="setDefaultLibraryType($any($event).detail.value)">
        <ion-segment-button value="authors">Authors</ion-segment-button>
        <ion-segment-button value="books">Books</ion-segment-button>
      </ion-segment>
    </ion-item>
    <ion-item>
      <ion-label>Default View</ion-label>
      <ion-segment [value]="getCurrentDefaultView()" (ionChange)="setDefaultView($any($event).detail.value)">
        <ion-segment-button value="grid">Grid</ion-segment-button>
        <ion-segment-button value="list">List</ion-segment-button>
      </ion-segment>
    </ion-item>
  </ion-list>
  
  <!-- Version Info -->
  <div class="text-center text-muted text-xs mt-8 px-4">
    <p>Booklett v{{ appVersion }}</p>
    @if (buildDate) {
      <p>Built: {{ buildDate | date:'short' }}</p>
    }
    <ion-button size="small" fill="clear" (click)="checkForUpdates()">
      Check for Updates
    </ion-button>
  </div>
</ion-content>
